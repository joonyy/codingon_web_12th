1. 생성된 뷰 폴더의 index 페이지는, 접속 시 팝업이 뜹니다. 이 팝업에는 체크박스에 “오늘 하루 보지 않음” 이라는 문구가 있습니다.
2. 오늘 하루동안 보지 않기 위해서는, 현재 접속한 사용자에 대한 정보가 서버측에 있거나, 접속했던 사용자 측에 오늘 하루동안 보지 않는다는 정보가 있어야 합니다.
3. 로그인 기능이 존재하지 않으므로, 서버측에서는 정보를 가지고 있을 수 없습니다. 그러므로, 사용자 측에 정보를 저장하는 것이 바람직합니다.
4. bootstrap의 모달 기능을 통해, popup페이지에 대한 인스턴스를 생성해줍니다. 이 인스턴스는, popup이라는 곳에 아무것도 없다면, show() 함수를 통해 화면에 띄워주고, 정보기 있다면 hide() 함수를 통해 가려줍니다.
5. 우선, 체크박스를 클릭하면 함수가 실행되어야 합니다. 이 함수의 역할은 axios를 활용하여, 서버 측(/setCookie 미들웨어)으로 post 메소드를 활용해 전송해줍니다. 새로운 내용을 추가하는 역할이므로 post 메소드가 바람직합니다.
6. cookie-parser를 미들웨어를 통해 등록해준 뒤, res.cookie()를 통해 쿠키를 설정해줍니다. 이 때 쿠키의 설정은 24시간 뒤에 만료가 된다는 설정을 해줘야 합니다. maxAge 옵션을 활용하는 것이 적절합니다.
7. 4번에서 말한 popup 변수에는 6번에서 생성한 쿠키에 대한 정보가 들어갑니다. 이제, 클릭 시 24시간동안 뜨지 않게 됩니다.
